import{c as K,r as x,j as e,P as z,g as O,a as ke,d as Ce,b as Re,u as Pe,f as Te,B as v,y as $,v as he,l as q,z as Se,k as de,w as J,n as Le,L as _e}from"./index-BjMCP1iW.js";import{F}from"./Footer-BNJnSuE_.js";import{C as j,c as b,d as V,a as C,b as R,e as E}from"./card-Bs4O2dLo.js";import{P as ue}from"./progress-CRy2n8-n.js";import{T as Me,a as Ae,b as G,c as H}from"./tabs-BiISDy0E.js";import{B as Y}from"./badge-B81ugYSk.js";import{a as Ee,b as Oe,C as Ie,N as Q}from"./Navbar-C76yzdJ5.js";import{C as ze}from"./checkbox-BaCFmDic.js";import{C as qe}from"./chevron-down-DaZQysed.js";import{C as W}from"./clock-D-Rnjkl2.js";import{B as I}from"./book-open-BV6lxkPw.js";import{u as De,a as Be,b as ge,c as Ue,B as $e}from"./useSavedRoadmaps-D2tsUmRD.js";import{m as P}from"./proxy-DLCIKtKW.js";import{S as Fe}from"./star-Dvg9XgHu.js";import{G as Ge}from"./graduation-cap-uTxMci-D.js";import{A as me}from"./arrow-right-Bh2Yf4uA.js";import{A as He}from"./award-BQfe8G3p.js";import"./index-B7sdqkSo.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=K("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=K("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=K("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var Ve="Separator",xe="horizontal",Ye=["horizontal","vertical"],pe=x.forwardRef((t,a)=>{const{decorative:s,orientation:o=xe,...r}=t,n=We(o)?o:xe,c=s?{role:"none"}:{"aria-orientation":n==="vertical"?n:void 0,role:"separator"};return e.jsx(z.div,{"data-orientation":n,...c,...r,ref:a})});pe.displayName=Ve;function We(t){return Ye.includes(t)}var fe=pe;const je=x.forwardRef(({className:t,orientation:a="horizontal",decorative:s=!0,...o},r)=>e.jsx(fe,{ref:r,decorative:s,orientation:a,className:O("shrink-0 bg-border",a==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...o}));je.displayName=fe.displayName;var D="Collapsible",[Ke,Mt]=ke(D),[Je,Z]=Ke(D),be=x.forwardRef((t,a)=>{const{__scopeCollapsible:s,open:o,defaultOpen:r,disabled:n,onOpenChange:i,...c}=t,[l,m]=Ee({prop:o,defaultProp:r??!1,onChange:i,caller:D});return e.jsx(Je,{scope:s,disabled:n,contentId:Oe(),open:l,onOpenToggle:x.useCallback(()=>m(u=>!u),[m]),children:e.jsx(z.div,{"data-state":te(l),"data-disabled":n?"":void 0,...c,ref:a})})});be.displayName=D;var ve="CollapsibleTrigger",Ne=x.forwardRef((t,a)=>{const{__scopeCollapsible:s,...o}=t,r=Z(ve,s);return e.jsx(z.button,{type:"button","aria-controls":r.contentId,"aria-expanded":r.open||!1,"data-state":te(r.open),"data-disabled":r.disabled?"":void 0,disabled:r.disabled,...o,ref:a,onClick:Ce(t.onClick,r.onOpenToggle)})});Ne.displayName=ve;var ee="CollapsibleContent",we=x.forwardRef((t,a)=>{const{forceMount:s,...o}=t,r=Z(ee,t.__scopeCollapsible);return e.jsx(Re,{present:s||r.open,children:({present:n})=>e.jsx(Xe,{...o,ref:a,present:n})})});we.displayName=ee;var Xe=x.forwardRef((t,a)=>{const{__scopeCollapsible:s,present:o,children:r,...n}=t,i=Z(ee,s),[c,l]=x.useState(o),m=x.useRef(null),u=Pe(a,m),p=x.useRef(0),g=p.current,_=x.useRef(0),T=_.current,S=i.open||c,M=x.useRef(S),y=x.useRef(void 0);return x.useEffect(()=>{const h=requestAnimationFrame(()=>M.current=!1);return()=>cancelAnimationFrame(h)},[]),Te(()=>{const h=m.current;if(h){y.current=y.current||{transitionDuration:h.style.transitionDuration,animationName:h.style.animationName},h.style.transitionDuration="0s",h.style.animationName="none";const A=h.getBoundingClientRect();p.current=A.height,_.current=A.width,M.current||(h.style.transitionDuration=y.current.transitionDuration,h.style.animationName=y.current.animationName),l(o)}},[i.open,o]),e.jsx(z.div,{"data-state":te(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!S,...n,ref:u,style:{"--radix-collapsible-content-height":g?`${g}px`:void 0,"--radix-collapsible-content-width":T?`${T}px`:void 0,...t.style},children:S&&r})});function te(t){return t?"open":"closed"}var Ze=be;const et=Ze,tt=Ne,at=we,st=({phases:t,onMilestoneToggle:a})=>{const[s,o]=x.useState(()=>{const n={},i=t.findIndex(c=>(c.completionPercentage??0)<100);return n[i>=0?i:0]=!0,n}),r=n=>{o(i=>({...i,[n]:!i[n]}))};return e.jsx("div",{className:"space-y-8",children:t.map((n,i)=>e.jsxs("div",{className:"relative",children:[i<t.length-1&&e.jsx("div",{className:"absolute left-6 top-16 bottom-0 w-0.5 bg-gradient-to-b from-terracotta/30 to-sage/30 z-0"}),e.jsxs(et,{open:!!s[i],onOpenChange:()=>r(i),children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"relative z-10",children:e.jsx("div",{className:`flex items-center justify-center h-12 w-12 rounded-full border-2 transition-all ${n.completionPercentage===100?"bg-sage-light border-sage text-sage-dark":(n.completionPercentage??0)>0?"bg-terracotta-light border-terracotta text-terracotta":"bg-cream border-charcoal/20 text-charcoal/60"}`,children:e.jsx("span",{className:"text-lg font-heading font-bold",children:i+1})})}),e.jsxs("div",{className:"ml-4 flex-grow min-w-0 overflow-hidden",children:[e.jsx(tt,{asChild:!0,children:e.jsxs(v,{variant:"ghost",className:"p-0 h-auto w-full justify-between hover:bg-transparent",children:[e.jsxs("div",{className:"text-left flex-1 min-w-0 pr-2",children:[e.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-heading font-semibold text-charcoal dark:text-cream break-words",children:n.title}),e.jsxs(Y,{variant:"outline",className:"text-xs border-terracotta/30 text-terracotta flex-shrink-0",children:[n.completionPercentage??0,"% complete"]})]}),e.jsx("p",{className:"text-muted-foreground mt-1 text-sm sm:text-base whitespace-normal",children:n.description})]}),e.jsx(qe,{className:`h-5 w-5 transition-transform text-terracotta flex-shrink-0 ${s[i]?"transform rotate-180":""}`})]})}),e.jsx("div",{className:"mt-2",children:e.jsx(ue,{value:n.completionPercentage??0,className:"h-1.5 [&>div]:bg-gradient-to-r [&>div]:from-terracotta [&>div]:to-sage"})})]})]}),e.jsx(at,{className:"ml-6 sm:ml-16 mt-4 space-y-4",children:n.milestones.map(c=>{const l=c.completed;return e.jsx(j,{className:`overflow-hidden border-l-4 shadow-warm hover:shadow-warm-md transition-shadow ${l?"border-l-sage":"border-l-terracotta"}`,children:e.jsx(b,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"min-w-0",children:[e.jsxs("div",{className:"flex items-start mb-1",children:[e.jsx(ze,{id:`milestone-check-${c.id}`,checked:l,onCheckedChange:()=>a(c.id,l),className:"mr-3 mt-1 flex-shrink-0 border-charcoal/30 data-[state=checked]:bg-terracotta data-[state=checked]:border-terracotta"}),e.jsx("label",{htmlFor:`milestone-check-${c.id}`,className:"font-medium text-base sm:text-lg cursor-pointer text-charcoal dark:text-cream break-words",children:c.title})]}),e.jsx("p",{className:"text-muted-foreground mt-1 text-sm pl-7 break-words",children:c.description}),e.jsxs("div",{className:"flex items-center mt-3 text-sm text-muted-foreground pl-7",children:[e.jsx(W,{className:"h-4 w-4 mr-1 text-sage"}),e.jsxs("span",{children:["Est: ",c.estimatedTime||"N/A"]})]}),c.resources&&c.resources.length>0&&e.jsxs("div",{className:"mt-4 pl-7",children:[e.jsx("h5",{className:"text-sm font-medium mb-2 text-charcoal dark:text-cream",children:"Resources:"}),e.jsx("div",{className:"space-y-2",children:c.resources.map(m=>e.jsxs("a",{href:m.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center p-1.5 pr-2 hover:bg-cream/50 dark:hover:bg-charcoal/30 rounded-md text-sm group",children:[e.jsx("div",{className:"w-8 h-8 rounded overflow-hidden mr-2 flex-shrink-0 bg-cream dark:bg-charcoal/50 flex items-center justify-center",children:m.imageUrl?e.jsx("img",{src:m.imageUrl,alt:m.title,className:"w-full h-full object-cover"}):e.jsx(I,{className:"w-5 h-5 text-sage"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium group-hover:text-terracotta transition-colors break-words",children:m.title}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[m.type," • ",m.platform]})]}),e.jsx(X,{className:"h-4 w-4 text-muted-foreground group-hover:text-terracotta ml-2 transition-colors flex-shrink-0"})]},m.id))})]})]})})},c.id)})})]})]},i))})},rt=({resource:t})=>{const a=t.imageUrl||"/placeholder.svg";return e.jsxs(j,{className:"overflow-hidden h-full flex flex-col hover:shadow-warm-md transition-all border-terracotta/10 hover:border-terracotta/30",children:[e.jsxs("div",{className:"h-36 overflow-hidden bg-cream flex items-center justify-center",children:[" ",e.jsx("img",{src:a,alt:t.title,className:`w-full h-full transition-transform hover:scale-105 ${t.imageUrl?"object-cover":"object-contain p-4 text-charcoal/40"}`,onError:s=>{s.target.src="/placeholder.svg",s.target.classList.add("object-contain","p-4","text-charcoal/40"),s.target.classList.remove("object-cover")}}),!t.imageUrl&&e.jsx(I,{className:"w-12 h-12 text-sage/50"})]}),e.jsxs(b,{className:"p-4 flex-grow",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("span",{className:"text-xs font-medium bg-terracotta-light/50 text-terracotta-dark px-2 py-1 rounded",children:t.type}),e.jsx("span",{className:"text-xs text-muted-foreground",children:t.platform})]}),e.jsx("h3",{className:"font-medium mb-2 text-charcoal dark:text-cream",children:t.title})]}),e.jsx(V,{className:"p-4 pt-0",children:e.jsx(v,{asChild:!0,variant:"outline",size:"sm",className:"w-full border-terracotta/30 hover:border-terracotta hover:text-terracotta hover:bg-terracotta-light/20",children:e.jsxs("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",children:["Access Resource",e.jsx(X,{className:"h-3 w-3 ml-2"})]})})})]})},ot=({roadmap:t,className:a,size:s="default"})=>{const o=De(),r=Be(t.id),[n,i]=x.useState(!1),c=()=>{r||o.isPending||o.mutate(t)},l={sm:"h-9 px-3 text-sm",default:"h-10 px-4",lg:"h-12 px-6 text-lg"},m={sm:"h-4 w-4",default:"h-5 w-5",lg:"h-6 w-6"};return e.jsx(P.div,{onHoverStart:()=>i(!0),onHoverEnd:()=>i(!1),whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsxs(v,{onClick:c,disabled:r||o.isPending,className:O("relative overflow-hidden transition-all duration-300 font-medium",l[s],r?"bg-sage/20 text-sage-dark border-sage/30 hover:bg-sage/30 dark:bg-sage/10 dark:text-sage dark:border-sage/20":"bg-gradient-to-r from-terracotta to-terracotta-dark text-white shadow-warm hover:shadow-warm-md hover:from-terracotta-dark hover:to-terracotta border-0",a),variant:r?"outline":"default",children:[e.jsx($,{children:n&&!r&&e.jsx(P.div,{initial:{opacity:0,y:20},animate:{opacity:.3,y:0},exit:{opacity:0,y:-20},className:"absolute inset-0 bg-gradient-to-t from-white/20 to-transparent pointer-events-none"})}),e.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[e.jsx($,{mode:"wait",children:o.isPending?e.jsx(P.span,{initial:{opacity:0,rotate:-180},animate:{opacity:1,rotate:0},exit:{opacity:0,rotate:180},children:e.jsx(he,{className:O(m[s],"animate-spin")})},"loading"):r?e.jsx(P.span,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{type:"spring",stiffness:500,damping:25},children:e.jsx(Ie,{className:m[s]})},"saved"):e.jsx(P.span,{initial:{opacity:0},animate:{opacity:1,y:n?-2:0},transition:{duration:.2},children:e.jsx(Fe,{className:O(m[s],n&&"fill-current")})},"star")}),e.jsx("span",{children:o.isPending?"Saving...":r?"Saved to Dashboard":"Save Roadmap"})]}),e.jsx($,{children:o.isSuccess&&e.jsx(e.Fragment,{children:[...Array(6)].map((u,p)=>e.jsx(P.span,{initial:{opacity:1,scale:0,x:0,y:0},animate:{opacity:0,scale:1,x:(Math.random()-.5)*100,y:(Math.random()-.5)*60-20},exit:{opacity:0},transition:{duration:.6,delay:p*.05},className:"absolute w-2 h-2 bg-amber-400 rounded-full pointer-events-none",style:{left:"50%",top:"50%"}},p))})})]})})};async function nt(t){const{data:a,error:s}=await J.from("profiles").select("*").eq("id",t).single();if(s&&s.code!=="PGRST116")throw s;return a}async function lt(t){const{data:a,error:s}=await J.from("roadmaps").select("*, phases(*, milestones(*, resources(*)))").eq("user_id",t).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(s)throw s;return a}function it(){const{user:t}=q();return ge({queryKey:["profile",t==null?void 0:t.id],queryFn:()=>nt(t.id),enabled:!!(t!=null&&t.id),staleTime:5*60*1e3,retry:1})}function ct(){const{user:t}=q();return ge({queryKey:["roadmap",t==null?void 0:t.id],queryFn:()=>lt(t.id),enabled:!!(t!=null&&t.id),staleTime:5*60*1e3,retry:1})}function dt(){const t=Se(),{user:a}=q();return Ue({mutationFn:async({milestoneId:s,newStatus:o})=>{const{error:r}=await J.from("milestones").update({completed:o,updated_at:new Date().toISOString()}).eq("id",s);if(r)throw r;return{milestoneId:s,newStatus:o}},onMutate:async({milestoneId:s,newStatus:o})=>{await t.cancelQueries({queryKey:["roadmap",a==null?void 0:a.id]});const r=t.getQueryData(["roadmap",a==null?void 0:a.id]);if(r){const n={...r,phases:r.phases.map(i=>{const c=i.milestones.findIndex(l=>l.id===s);if(c!==-1){const l=[...i.milestones];l[c]={...l[c],completed:o,updated_at:new Date().toISOString()};const m=l.length,u=l.filter(g=>g.completed).length,p=m>0?Math.round(u/m*100):0;return{...i,milestones:l,completion_percentage:p}}return i})};t.setQueryData(["roadmap",a==null?void 0:a.id],n)}return{previousRoadmap:r}},onSuccess:(s,{newStatus:o})=>{de.success(o?"Milestone completed!":"Milestone marked incomplete.")},onError:(s,o,r)=>{r!=null&&r.previousRoadmap&&t.setQueryData(["roadmap",a==null?void 0:a.id],r.previousRoadmap),de.error(`Update failed: ${s.message}`)}})}function mt(t){if(!(t!=null&&t.phases))return 0;const a=t.phases.flatMap(r=>r.milestones||[]),s=a.length;if(s===0)return 0;const o=a.filter(r=>r.completed===!0).length;return Math.round(o/s*100)}function xt(t){return t!=null&&t.phases?t.phases.map(a=>{var s;return{...a,completionPercentage:a.completion_percentage,milestones:((s=a.milestones)==null?void 0:s.map(o=>{var r;return{...o,estimatedTime:o.estimated_time,completed:o.completed===!0,resources:((r=o.resources)==null?void 0:r.map(n=>({...n,imageUrl:n.image_url})))||[]}}))||[]}}):[]}const ht={getGoal:t=>{var a,s,o;return((s=(a=t==null?void 0:t.goals)==null?void 0:a.find(r=>r.toLowerCase().startsWith("achieve goal:")))==null?void 0:s.split(":").slice(1).join(":").trim())||((o=t==null?void 0:t.goals)==null?void 0:o[0])||"-"},getFieldLabel:t=>{var a,s,o;return((s=(a=t==null?void 0:t.skills)==null?void 0:a.find(r=>r.toLowerCase().startsWith("field:")))==null?void 0:s.split(":").slice(1).join(":").trim())||((o=t==null?void 0:t.skills)==null?void 0:o[0])||"-"},getTimelineLabel:t=>{var a,s,o;return((o=(s=(a=t==null?void 0:t.goals)==null?void 0:a.find(r=>r.toLowerCase().includes("within")))==null?void 0:s.split("within").pop())==null?void 0:o.trim())||"-"},getExperienceLabel:t=>{var a,s;return((s=(a=t==null?void 0:t.skills)==null?void 0:a.find(o=>o.toLowerCase().startsWith("experience:")))==null?void 0:s.split(":").slice(1).join(":").trim())||"-"},getBackgroundLabel:t=>{var a;return((a=t==null?void 0:t.background)==null?void 0:a.replace(/_/g," ").replace(/ \w/g,s=>s.toUpperCase()))||"N/A"}},At=()=>{var re,oe,ne,le,ie,ce;const t=Le(),{user:a,isLoading:s}=q(),[o,r]=x.useState("overview"),{data:n,isLoading:i,error:c}=it(),{data:l,isLoading:m,error:u}=ct(),p=dt();x.useEffect(()=>{!s&&!a&&t("/auth")},[a,s,t]),x.useEffect(()=>{!i&&!n&&a&&t("/onboarding")},[n,i,a,t]);const g=mt(l),_=async(d,N)=>{p.mutate({milestoneId:d,newStatus:!N})},{getGoal:T,getFieldLabel:S,getTimelineLabel:M,getExperienceLabel:y,getBackgroundLabel:h}=ht,A=s||i||m,ae=(c==null?void 0:c.message)||(u==null?void 0:u.message);if(A)return e.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-background",children:[e.jsx(he,{className:"h-12 w-12 animate-spin text-terracotta"})," ",e.jsx("p",{className:"ml-4 text-lg text-muted-foreground font-heading",children:"Loading your journey..."})]});if(ae)return e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background p-4",children:[e.jsx(Q,{}),e.jsxs("div",{className:"text-center",children:[e.jsx(L,{className:"h-12 w-12 mx-auto text-destructive mb-4"}),e.jsx("h2",{className:"text-2xl font-heading font-bold mb-2 text-destructive-foreground",children:"Error"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:ae}),e.jsx(v,{onClick:()=>window.location.reload(),className:"bg-terracotta hover:bg-terracotta-dark",children:"Try Again"})]}),e.jsx(F,{})]});if(!n)return e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background p-4",children:[e.jsx(Q,{}),e.jsxs("div",{className:"text-center",children:[e.jsx(L,{className:"h-12 w-12 mx-auto text-amber-500 dark:text-amber-400 mb-4"}),e.jsx("h2",{className:"text-2xl font-heading font-bold mb-2 text-amber-700 dark:text-amber-300",children:"Profile Not Found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Please complete onboarding."}),e.jsx(v,{onClick:()=>t("/onboarding"),className:"bg-terracotta hover:bg-terracotta-dark",children:"Go to Onboarding"})]}),e.jsx(F,{})]});const B=xt(l),k=(re=l==null?void 0:l.phases)==null?void 0:re.find(d=>{var N;return(N=d.milestones)==null?void 0:N.some(w=>w.completed!==!0)}),f=(oe=k==null?void 0:k.milestones)==null?void 0:oe.find(d=>d.completed!==!0),se=((ne=f==null?void 0:f.resources)==null?void 0:ne.slice(0,2).map(d=>({...d,imageUrl:d.image_url})))??[];return e.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[e.jsx(Q,{}),e.jsxs("div",{className:"container px-4 py-8 flex-grow",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-heading font-bold text-charcoal dark:text-cream",children:["Welcome, ",n.first_name||"User"]}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Your learning journey awaits"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsx(Y,{className:"bg-terracotta text-white capitalize",children:S(n)}),e.jsxs(Y,{variant:"outline",className:"border-sage text-sage-dark capitalize",children:[e.jsx(W,{className:"h-3 w-3 mr-1"}),M(n)," plan"]}),e.jsx(_e,{to:"/dashboard/saved-roadmaps",children:e.jsxs(v,{variant:"outline",size:"sm",className:"border-terracotta/30 hover:border-terracotta hover:bg-terracotta/5 hover:text-terracotta",children:[e.jsx($e,{className:"h-4 w-4 mr-2"}),"My Roadmaps"]})})]})]}),e.jsxs(j,{className:"mb-8 shadow-warm border-terracotta/20",children:[e.jsx(C,{className:"pb-2",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx(R,{className:"font-heading text-charcoal dark:text-cream",children:"Your Goal"}),e.jsx(E,{children:"Your target objective"})]}),l&&e.jsx(ot,{size:"sm",roadmap:{id:l.id,title:l.title,description:l.description,goalRole:T(n),progress:g,milestoneCount:((le=l.phases)==null?void 0:le.flatMap(d=>d.milestones||[]).length)||0,completedMilestones:((ie=l.phases)==null?void 0:ie.flatMap(d=>d.milestones||[]).filter(d=>d.completed).length)||0,phaseCount:((ce=l.phases)==null?void 0:ce.length)||0,status:g===100?"completed":g===0?"draft":"in-progress"}})]})}),e.jsxs(b,{children:[e.jsx("p",{className:"text-lg font-medium text-charcoal dark:text-cream",children:T(n)}),n.challenges&&e.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Challenges: ",n.challenges]})]})]}),e.jsxs(Me,{defaultValue:"overview",value:o,onValueChange:r,className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center",children:[e.jsxs(Ae,{className:"grid grid-cols-3 w-full sm:w-[400px] mb-4 sm:mb-0 bg-cream/50 dark:bg-charcoal/50",children:[e.jsx(G,{value:"overview",className:"data-[state=active]:bg-terracotta data-[state=active]:text-white",children:"Overview"}),e.jsx(G,{value:"roadmap",className:"data-[state=active]:bg-terracotta data-[state=active]:text-white",children:"Roadmap"}),e.jsx(G,{value:"resources",className:"data-[state=active]:bg-terracotta data-[state=active]:text-white",children:"Resources"})]}),e.jsxs("div",{className:"flex items-center w-full sm:w-auto justify-end",children:[e.jsx("p",{className:"text-sm text-muted-foreground mr-2 whitespace-nowrap",children:"Progress:"}),e.jsxs("div",{className:"w-full sm:w-48 flex items-center",children:[e.jsx(ue,{value:g,className:"h-2 mr-2 flex-grow [&>div]:bg-gradient-to-r [&>div]:from-terracotta [&>div]:to-sage"}),e.jsxs("span",{className:"text-sm font-semibold text-terracotta",children:[g,"%"]})]})]})]}),e.jsx(H,{value:"overview",className:"animate-fade-in",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(j,{className:"shadow-warm border-terracotta/10 hover:shadow-warm-md transition-shadow",children:[e.jsx(C,{children:e.jsxs(R,{className:"flex items-center font-heading",children:[e.jsx(Ge,{className:"h-5 w-5 mr-2 text-terracotta"}),"Current Focus"]})}),e.jsx(b,{children:f?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"font-medium text-charcoal dark:text-cream",children:[k==null?void 0:k.title,": ",f.title]}),e.jsx("p",{className:"text-muted-foreground",children:f.description||"-"}),e.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[e.jsx(W,{className:"h-4 w-4 mr-1 text-sage"}),"Est: ",f.estimated_time||"N/A"]})]}):l?e.jsxs("div",{className:"text-center py-6",children:[e.jsx(Qe,{className:"h-10 w-10 mx-auto text-sage mb-2"}),e.jsx("p",{className:"text-muted-foreground font-medium",children:"Roadmap Complete!"})]}):e.jsxs("div",{className:"text-center py-6",children:[e.jsx(L,{className:"h-10 w-10 mx-auto text-muted-foreground mb-2"}),e.jsx("p",{className:"text-muted-foreground",children:"No roadmap available."})]})}),e.jsx(V,{children:l&&e.jsxs(v,{variant:"outline",size:"sm",className:"w-full border-terracotta/30 hover:border-terracotta hover:text-terracotta",onClick:()=>r("roadmap"),children:[e.jsx(me,{className:"ml-2 h-4 w-4"}),"View Roadmap"]})})]}),e.jsxs(j,{className:"shadow-warm border-sage/10 hover:shadow-warm-md transition-shadow",children:[e.jsxs(C,{children:[e.jsxs(R,{className:"flex items-center font-heading",children:[e.jsx(I,{className:"h-5 w-5 mr-2 text-sage-dark"}),"Resources"]}),e.jsx(E,{children:"Current step"})]}),e.jsx(b,{children:se.length>0?e.jsx("div",{className:"space-y-2",children:se.map(d=>e.jsxs("a",{href:d.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center p-2 hover:bg-cream/50 dark:hover:bg-charcoal/50 rounded-md group",children:[e.jsx("div",{className:"w-10 h-10 rounded mr-3 flex-shrink-0 bg-cream dark:bg-charcoal/50 flex items-center justify-center",children:d.imageUrl?e.jsx("img",{src:d.imageUrl,alt:d.title,className:"w-full h-full object-cover rounded"}):e.jsx(I,{className:"w-5 h-5 text-sage"})}),e.jsxs("div",{className:"flex-grow",children:[e.jsx("h4",{className:"font-medium text-sm group-hover:text-terracotta transition-colors",children:d.title}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[d.type," • ",d.platform]})]}),e.jsx(X,{className:"h-4 w-4 text-muted-foreground group-hover:text-terracotta ml-2 transition-colors"})]},d.id))}):e.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:f?"No resources.":"-"})}),e.jsx(V,{children:l&&e.jsxs(v,{variant:"outline",size:"sm",className:"w-full border-sage/30 hover:border-sage hover:text-sage-dark",onClick:()=>r("resources"),children:[e.jsx(me,{className:"ml-2 h-4 w-4"}),"View All"]})})]}),e.jsxs(j,{className:"shadow-warm md:col-span-2 border-amber-200/30",children:[e.jsx(C,{children:e.jsxs(R,{className:"flex items-center font-heading",children:[e.jsx(He,{className:"h-5 w-5 mr-2 text-amber-500"}),"Your Profile"]})}),e.jsx(b,{children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 bg-gradient-to-br from-terracotta-light/30 to-cream rounded-xl",children:[e.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Background"}),e.jsx("p",{className:"font-medium capitalize text-charcoal dark:text-cream",children:h(n)})]}),e.jsxs("div",{className:"p-4 bg-gradient-to-br from-sage-light/30 to-cream rounded-xl",children:[e.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Experience"}),e.jsx("p",{className:"font-medium capitalize text-charcoal dark:text-cream",children:y(n)})]}),e.jsxs("div",{className:"p-4 bg-gradient-to-br from-amber-100/50 to-cream rounded-xl",children:[e.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Commitment"}),e.jsx("p",{className:"font-medium text-charcoal dark:text-cream",children:n.time_available||"-"})]})]})})]})]})}),e.jsx(H,{value:"roadmap",className:"animate-fade-in",children:e.jsxs(j,{className:"shadow-sm",children:[e.jsxs(C,{children:[e.jsx(R,{children:"Learning Roadmap"}),e.jsx(E,{children:"Your step-by-step guide"})]}),e.jsx(b,{children:l&&B&&B.length>0?e.jsx(st,{phases:B,onMilestoneToggle:_}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(L,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-xl font-medium mb-2",children:"No Roadmap Yet"}),e.jsx("p",{className:"text-muted-foreground",children:"Please complete onboarding or check back later."})]})})]})}),e.jsx(H,{value:"resources",className:"animate-fade-in",children:e.jsxs(j,{className:"shadow-sm",children:[e.jsxs(C,{children:[e.jsx(R,{children:"Learning Resources"}),e.jsx(E,{children:"Curated materials for your journey"})]}),e.jsx(b,{children:l&&l.phases&&l.phases.length>0?l.phases.map((d,N)=>e.jsxs("div",{className:"mb-8 last:mb-0",children:[" ",e.jsx("h3",{className:"font-semibold text-lg mb-3",children:d.title})," ",d.milestones&&d.milestones.length>0?d.milestones.map((w,ye)=>e.jsxs("div",{className:"mb-6 pl-4 border-l-2 border-border",children:[" ",e.jsx("h4",{className:"font-medium text-md mb-2",children:w.title})," ",w.resources&&w.resources.length>0?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[" ",w.resources.map(U=>e.jsx(rt,{resource:{...U,imageUrl:U.image_url}},U.id))," "]}):e.jsx("p",{className:"text-sm text-muted-foreground italic",children:"No resources."})," "]},w.id||ye)):e.jsx("p",{className:"text-sm text-muted-foreground italic pl-4",children:"No milestones."})," ",N<l.phases.length-1&&e.jsx(je,{className:"my-6"})," "]},d.id||N)):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(L,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-xl font-medium mb-2",children:"No Resources"}),e.jsx("p",{className:"text-muted-foreground",children:"Resources will appear with your roadmap."})]})})]})})]})]}),e.jsx(F,{})]})};export{At as default};
